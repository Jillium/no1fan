{{> nav}}

<main class="flex justify-between lg:flex-row flex-col">
    
    <section id="top-artists" class="m-2 lg:w-1/4 inline-block">
        <h2 class="text-xl font-bold text-center m-2">Top 10 Artists</h2>
        <div id="top-artist-container" class="h-[87vmax] m-auto w-fit p-2 overflow-y-auto overflow-x-hidden">
            {{#each topArtists.data}}
                {{> artist-card medium='true'}}
            {{/each}}
        </div>
    </section>

    <section class="flex flex-col w-full m-2">
        
        <section id="random-track" class="m-3">
            <h2 class="text-xl font-bold text-center m-2">Random Track</h2>
            <div id="random-track-container" class="w-full border rounded-md bg-gray-400 p-4">
                <img id="random-album-img" src="{{random.data.0.album.cover_medium}}" class="inline rounded-sm">
                <div id="random-info-container" class="inline-flex flex-col align-middle m-3">
                    <p class="m-2 text-xl">{{random.data.0.title}}</p>
                    <p class="m-2 text-lg">{{random.data.0.artist.name}}</p>
                    <p class="m-2 text-lg">{{random.data.0.album.title}}</p>
                    {{#if random.data.0.preview}}
                    <div>
                         <audio controls class="">
                            <source src="{{random.data.0.preview}}" type="audio/mpeg">
                        </audio>
                    </div>
                    {{/if}}
                </div>
            </div>
        </section>

        <section id="top-track-container" class="m-3">
            <h2 class="text-xl font-bold text-center m-2">Top 10 Tracks</h2>
            <div id="top-track-container">
                <table class="table-auto w-full rounded-t-md overflow-hidden">
                <thead>
                    <tr class="bg-gray-300 h-10 text-left">
                        <th class="p-2">Artist</th>
                        <th class="p-2">Track</th>
                        <th class="p-2">Duration</th>
                    </tr>
                </thead>
                <tbody id="top-track-table">
                    {{#each topTracks.data}}
                        {{> track-card home='true'}}
                    {{/each}}
                </tbody>
                </table>
            </div>
        </section>

        <section id="upcoming-shows-container" class="m-3">
            <h2 class="text-xl font-bold text-center m-2">Upcoming Concerts in your Area</h2>
            <div id="location-container" class="m-2">
                <table class="table-auto w-full rounded-t-md overflow-hidden">
                <thead>
                    <tr class="bg-gray-300 h-10">
                        <th>Artist</th>
                        <th>Venue</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each shows.events}}
                        {{> show-card}}
                    {{/each}}
                </tbody>
                </table>
            </div>
        </section>

    </section>


</main>

{{> footer}}

<script src="/js/home.js"></script>